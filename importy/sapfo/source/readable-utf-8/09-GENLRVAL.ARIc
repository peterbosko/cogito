%   S A P F O   -   Sense APprehending Frame Operator   -   (c) Emil P·leö%                                                                 1988  %                  (part 9: L,R-VALENCY, CONSTRUCTION):- segment(seglim).:- public colfar/5,leftsurf/7,rightsurf/7:far.:- extrn attach/3,member/2,pick/4,pair/2,int/6,int4/3,leftval/5,      cat3/4,prior/4,sema/2,feaname/2,casecat/2,retroot/2,prep2/6:far.:- extrn radix/4:far.% zlatovlasÈ dievËalsur4(km(adj,vzt,_,_,_),ko(sub,Se,K1,sub,[korp|_],K2),km(sub,[osoba|_],_,_,K3),_,(par,0),(rel,0),[]) :-   sema(Se,[kon]).% ËervenovlasÈ dievËalsur4(km(adj,vzt,_,_,_),ko(adj,kval,K1,sub,Se2,K2),km(sub,Se3,_,_,K3),_,(par,0),(atr,0),[]) :-% ohnivoËerven˝lsur4(km(adj,vzt,_,_,_),ko(sub,Se,K1,adj,kval,K2),_,_,(atr,0),(rel,0),[]).% krvavoËerven˝lsur4(km(adj,vzt,_,_,_),ko(adj,akvzt,K1,adj,kval,K2),_,_,(atr,0),(rel,0),[]) :-   radix(K1,K3,adj,cat(_,_,_,Sf,_,_)),Sf=av.% staroperzsk˝lsur4(km(adj,vzt,_,_,_),ko(adj,_,K1,adj,vzt,K2),km(sub,_,_,_,K3),_,L) :-   radix(K2,K4,_,_),   leftval(K2,poz,ano,K3,L1),L1=[SP1|Q1],   leftval(K1,poz,ano,K4,L2),attach(Q1,L2,Q),L=[SP1|Q].% Ëiernobiely, drahocenn˝lsur4(km(adj,kval,'','',_),ko(adj,kval,K1,adj,_,K2),km(sub,_,_,_,_),_,L) :-   L=[(atr,0),[X,K1]],ctr_inc(1,X).% sv‰tosv‰t˝lsur4(km(adj,Se,_,_,_),ko(adj,Se,K,adj,Se,K),_,_,L) :-   ctr_inc(1,X),L=[(atr,0),[X,K,mes,'veæa']].% s˝tomodr˝% öablozub˝% kovoobr·bacÌlsur4(km(adj,vzt,'','',_),ko(sub,Se,K1,adj,klas,K2),_,_,L) :-   radix(K2,K3,adj,cat(_,_,_,Sf,_,_)),Sf=c,   radix(K3,_,sl,cat(I,_,_,_,_,_,_)),prior(I,Se,obj,SP),pair(SP,XSP),   ctr_inc(1,X),ctr_inc(1,Y),L=[(mot,0),[X,K3,SP,Y],[Y,K1,XSP,X]].% ûivotodarn˝lsur4(km(adj,vzt,Pf,Sf,_),ko(sub,Se1,K1,sl,I,K2),km(sub,Se2,_,_,_),_,L) :-   Sf=n,   prior(I,_,sub,SP1),pair(SP1,XSP1),   prior(I,Se1,obj,SP2),pair(SP2,XSP2),   ctr_inc(1,X),ctr_inc(1,Y),L=[XSP1,[X,K2,SP2,Y],[Y,K1,XSP2,X]].% zlopovestn˝% nÌzkokmenn˝% ûivotaschopn˝% !!! Starhrad call lsur star˝ hrad  , call disfar ostro-strelec% otcova cestalsur1(km(adj,indprivl,_,_,_),ko(sub,[osoba|_],K1),km(sub,_,_,_,_),ko(sl,I,_),SP,[]) :-   prior(I,[osoba],_,SP).% otcovo ryb·rËenielsur1(km(adj,indprivl,_,_,_),ko(sub,[osoba|_],K1),km(sl,I,_,_,_),_,SP,[]) :-   prior(I,[osoba],_,SP).% otcova tvrdosùlsur1(km(adj,indprivl,_,_,_),ko(sub,[osoba|_],K1),km(sub,[atb|_],_,Sf,_),ko(adj,_,_),(xatr,0),[]) :-   (Sf=ota;Sf=oba;Sf=stvo;Sf='osù').% Rembrandtov nos,kufor,obrazlsur1(km(adj,indprivl,_,_,_),ko(sub,[osoba|_],K1),km(sub,Se,_,_,_),_,(Sp,0),[]) :-   ((Se=[korp|_],Sp=par);    (Se\=[korp|_],sema(Se,[kon]),Sp=pos);    (sema(Se,[abs]),Sp=koh)).% liöacÌ hon, maËacia chÙdzalsur1(km(adj,drprivl,_,_,_),ko(sub,Se,K1),km(sub,_,_,_,_),ko(sl,I,_),SP,[]) :-   (SP=(rel,0);prior(I,Se,_,SP)).% slonia velkosùlsur1(km(adj,drprivl,_,_,_),ko(sub,_,K1),km(sub,_,_,_,_),ko(adj,_,_),(rel,0),[]).% ovËia vlna, labutÌ krk, maËkina labalsur1(km(adj,drprivl,_,_,_),ko(sub,_,K1),km(sub,Se,_,_,_),_,(Sp,0),[]) :-   ((Se=[mat|_],Sp=suk);    (Se=[korp|_],(Sp=par;Sp=rel));    (sema(Se,[ziv]),Sp=koh);    (Se\=[korp|_],sema(Se,[kon]),(Sp=mot;Sp=suk))).% Ëervenkast˝ dom, veliËizn˝ dom, priveæk˝ dom, pramal˝ domlsur1(km(adj,kval,Pr,Sf,_),ko(adj,kval,K),km(sub,_,_,_,_),_,(atr,0),[mes,M]) :-   (((Sf='·nsk';Sf=izn;Sf=ulink;Sf=link;Sf='uök';Sf='uËk';Sf='uËiËk';Sf='ËiËk';      Sf='';Sf='iËk';Sf='uæk';Sf=unk;Pr=pre;Pr=pra),M='veæa');    ((Sf=ist;Sf=ast;Pr=po),M='m·lo');    (Pr=pri,M='prÌliö')).% vËerajöia prech·dzka, doln· zemlsur1(km(adj,vzt,_,_,_),ko(adv,SP,K),km(sub,Se,_,_,_),ko(Sd,_,_),SP,[]) :-   (Sd=sl;Se=lok).% sobotÚajöia plavbalsur1(km(adj,vzt,Pr,Sf,_),ko(sub,[cas|_],K2),km(sub,_,_,_,_),ko(sl,_,_),(tmp,_),[]) :-   (Sf=n;Sf='jö';Sf=ov).% lesn˝ behlsur1(km(adj,vzt,Pf,Sf,_),ko(sub,[lok|_],K2),km(sub,_,_,_,_),ko(sl,_,_),(lok,_),[]) :-   (Sf=n;Sf=sk;Sf=ick;Sf=ov).% kruhov˝ pohyb, zvoncovit˝ poh·rlsur1(km(adj,vzt,Pr,Sf,_),ko(sub,Se1,K2),km(sub,Se2,_,_,_),KO,(rel,0),[]) :-   (Sf=ovit;Sf=ov;Sf=n;Sf=eck;Sf=ick),sema(Se1,[kon]),   (KO=ko(sl,_,_);sema(Se2,[kon])).% prÌmorsk· ûivica, zadunajskÈ pl·ne,predpotopn˝ strojlsur1(km(adj,vzt,Pr,Sf,_),ko(sub,S,K2),km(sub,Se,_,_,_),KO,(Sp,No),[]) :-   (Sf=n;Sf=sk;Sf=ov;Sf=ick;Sf='jö'),   ((S=[lok|_],ifthenelse(sema(Se,[mov]),Sp=ori,Sp=lok));(S=[cas|_],Sp=tmp)),   (KO=nil;KO=ko(sub,_,_)),   ifthenelse(Pr='',true,int4(Pr,S,No)).% öijacÌ strojlsur1(km(adj,vzt,_,Sf,_),ko(sl,_,K2),km(sub,_,_,_,K3),_,(mot,0),[]) :-   (Sf=c;Sf=ac;Sf=ic;Sf=ec).% kamenist˝ krajlsur1(km(adj,vzt,_,Sf,_),ko(sub,_,K2),km(sub,Se,_,_,K3),_,(par,0),[mes,'veæa']) :-   (Sf=n;Sf=iv;Sf=av;Sf=ast;Sf=ist;Sf=at;Sf=nat;Sf=it),sema(Se,[kon]).% meden· karafalsur1(km(adj,vzt,_,Sf,_),ko(sub,[mat|_],K2),km(sub,Se,_,_,_),_,(mat,0),[]) :-   (Sf='';Sf=en;Sf=n;Sf=ov),sema(Se,[kon]),sema(Se,[neziv]).% oh˝bateæn˝ drÙtlsur1(km(adj,vzt,_,Sf,_),ko(sl,I,K2),km(sub,Se,_,_,K3),_,SP,[mdl,posib]) :-   (Sf=n;Sf='teæn';Sf=biln),   prior(I,Se,obj,SP).% haöteriv· ûenalsur1(km(adj,vzt,_,Sf,_),ko(sl,I,K2),km(sub,Se,_,_,K3),_,SP,[mdl,sklon]) :-   (Sf=n;Sf=v;Sf='aËn';Sf=liv;Sf=iv;Sf=av),   prior(I,Se,sub,SP).% lsur1(km(adj,vzt,_,n,_),ko(sub,_,_),km(sub,_,_,_,_),ko(sl,_,_),(koh,0),[]).% lsur1(km(adj,vzt,_,_,_),ko(sub,_,_),km(sub,[ins|_],_,_),_,(mot,0),[]).% lsur1(km(adj,vzt,_,Sf,_),ko(sub,_,_),_,_,(rel,0),[]).% Ëerven˝ domlsur2(km(adj,kval,_,_,K1),nil,km(sub,Se,_,_,_),_,(atr,0),[]) :-   Se\==[dej|_].% rieka Nitralsur2(km(sub,Se,_,_,K1),_,km(sub,Se,_,_,K2),_,(ifr,0),[]).% r˝chly behlsur3(km(adj,kval,_,_,K1),nil,km(sub,[dej|_],_,_,_),ko(sl,I,K2),(mds,0),[]).leftsurf(N,KO2,SP,Acon,AK,Seak,LL) :-   config(_,kon(a,_,_,_),_,_,_,_,_,_),   ((fail,memb1([N,KO1|L],LL));colfar(nil,N,[N,KO1|L],LL,_)),   radix(KO2,KOR2,Sd2,Cat2),cat3(Sd2,Cat2,Val2,Se2,Pr2,Sf2),   retroot(KOR2,LKOR2),K2=km(Sd2,Se2,Pr2,Sf2,KO2),   radix(KO1,KOR1,Sd3,Cat3),cat3(Sd3,Cat3,Val3,Se3,Pr3,Sf3),   ifthenelse((Se3=akvzt;Se3=klas),Se33=vzt,Se33=Se3),   ((ifthen(radix(_,KO1,_,_),      (radix(KM1,KO1,Sd1,Cat1),cat3(Sd1,Cat1,Val1,Se1,Pr1,Sf1))),nonvar(KM1),     ifthenelse((Se1=akvzt;Se1=klas),Se11=vzt,Se11=Se1),     sema(Se2,Val1),     lsur1(km(Sd1,Se11,Pr1,Sf1,KM1),ko(Sd3,Se3,KO1),K2,LKOR2,SP,Acon),     AK=KM1,Seak=Se1);                             % Ëervenkast˝ dom    (retroot(KOR1,LKOR1),     sema(Se2,Val3),     lsur2(km(Sd3,Se33,Pr3,Sf3,KO1),LKOR1,K2,LKOR2,SP,Acon),     AK=KO1,Seak=Se3);	        		   % Ëerven˝ dom    (radix(KOR1,KORR1,Sd4,Cat4),cat3(Sd4,Cat4,Val4,Se4,Pr4,Sf4),     retroot(KORR1,LKORR1),     ifthenelse((Se4=akvzt;Se4=klas),Se44=vzt,Se44=Se4),     sema(Se2,Val4),     lsur3(km(Sd4,Se44,Pr4,Sf4,KOR1),LKORR1,K2,LKOR2,SP,Acon),     AK=KOR1,Seak=Se4)   ).  						  % r˝chly behleftsurf(N,KOR,SP1,Acon,AK,Seak,LL) :-   ((fail,memb1([N,KO|L],LL));colfar(nil,N,[N,KO|L],LL,_)),   (KO1=KO;KO2=KO),   radix(KM,(KO1,KO2),Sd1,Cat1),cat3(Sd1,Cat1,Val1,Se1,Pr1,Sf1),   retroot((KO1,KO2),LKM),   radix(KOR,KORR,Sd2,Cat2),cat3(Sd2,Cat2,Val2,Se2,Pr2,Sf2),   retroot(KORR,LKOR),   pick(L,SP2,_,_),   sema(Se2,Val1),   lsur4(km(Sd1,Se1,Pr1,Sf1,KM),LKM,km(Sd2,Se2,Pr2,Su2),LKOR,SP1,SP2,Acon).% prÌchod p·peûa/rozpad ur·nu/bolesù hæadaniarsur1(km(sub,[dej|_],_),ko(sl,I,K2),0,gen,km(sub,Se,K3),_,SP) :-   I\==100,prior(I,Se,_,SP).% prich·dzanie p·peûarsur1(km(sl,I,K1),_,0,gen,km(sub,Se,K3),_,SP) :-   prior(I,Se,_,SP).% exploat·cia (robotnÌka) kapitalistomrsur1(km(sub,[dej|_],_),ko(sl,I,K2),0,ins,km(sub,Se,_),_,SP) :-   I\==100,prior(I,Se,sub,SP),int(I,0,ak,Se,SP1,_),casecat(obj,SP1).% vykorisùovanie (robotnÌka) kapitalistomrsur1(km(sl,I,K1),_,0,ins,km(sub,Se,_),_,SP) :-   prior(I,Se,sub,SP),int(I,0,ak,Se,SP1,_),casecat(obj,SP1).% l·ska k vlastirsur1(km(sub,[dej|_],_),ko(sl,100,K2),k,dat,km(sub,Se,_),_,SP) :-   prior(100,Se,obj,SP).% dar sestre/cesta do Indiersur1(km(sub,_,_),ko(sl,I,_),Pr,Pa,km(sub,Se,_),_,SP) :-   Pa\==nom,Pa\==ak,Pr\==s,int(I,Pr,Pa,Se,SP,_).% tvrdosù otcarsur1(km(sub,[atb|_],_),ko(adj,_,_),0,gen,km(sub,_,_),_,(xatr,_)).% l˙ky povyöersur1(km(sub,_,_),_,0,_,km(adv,SP,_),_,SP).% strecha domu, ministerstvo obchodu, poh·r vodyrsur1(km(sub,Se1,_),_,0,gen,km(sub,Se2,_),_,SP) :-   (sema(Se1,[kon]),sema(Se2,[kon]),SP=(xpar,_));   (Se1=[org|_],SP=(oku,_));   (Se1=[jedn|_],Se2=[mat|_],SP=(xmes,_)).% opasok (staröieho) bratarsur1(km(sub,Se,_),ko(sub,_,_),0,gen,km(sub,[osoba|_],_),_,(pos,_)) :-   sema(Se,[kon]).% dievËa (bledej) tv·rersur1(km(sub,[osoba|_],_),_,0,gen,km(sub,[korp|_],_),_,(par,_)).% dievËa s (havranÌmi) vlasmirsur1(km(sub,[osoba|_],_),_,s,ins,km(sub,[korp|_],_),_,(par,_)).% hrnËek s uchomrsur1(km(sub,Se1,_),_,s,ins,km(sub,Se2,_),_,(par,_)) :-   sema(Se1,[kon]),sema(Se2,[kon]).% prsteÚ zo zlata, koberec z Perziersur1(km(sub,Se1,_),_,z,gen,km(sub,Se2,_),_,SP) :-   (sema(Se1,[kon]),Se2=[mat|_],SP=(mat,_));   (Se2=[lok|_],SP=(ori,_)).% dar z l·skyrsur1(km(sub,_,_),ko(sl,_,_),z,gen,km(sub,_,_),ko(sl,_,_),(kaz,_)).% reûim za Hitlera, prsteÚ za korunursur1(km(sub,Se1,_),_,za,gen,km(sub,Se2,_),_,SP) :-   ((sema(Se,[ziv]);Se=[temp|_]),SP=(tmp,_));(Se2=[penjedn|_],SP=(cen,_)).% kameÚ nad/pod/za stolomrsur1(km(sub,Se,_),_,Pr,ins,km(sub,[lok|_],_),_,(lok,No)) :-   (Pr=za;Pr=nad;Pr=pod;Pr=pred;Pr=medzi),sema(Se,[kon]),int4(Pr,lok,No).% kameÚ v/na/pri stolersur1(km(sub,Se,_),_,Pr,lok,km(sub,[lok],_),_,(lok,No)) :-   (Pr=v;Pr=na;Pr=pri),sema(Se,[kon]),int4(Pr,lok,No).% d·ma u dvorarsur1(km(sub,Se,_),_,u,gen,km(sub,[lok|_],_),_,(lok,1)) :-   sema(Se,[kon]).% rozpr·vka o snehulienkersur1(km(sub,_,_),_,o,lok,km(sub,_,_),_,(tem,_)).% knihy po otcovi, stopy po daûdirsur1(km(sub,_,_),_,po,lok,km(sub,Se,_),_,SP) :-   ifthenelse(sema(Se,[ziv]),SP=(suk,0),SP=(kaz,0)).% kniha od otca, fæak od farbyrsur1(km(sub,_,_),_,od,gen,km(sub,Se,_),_,SP) :-   ifthenelse(sema(Se,[ziv]),SP=(suk,0),SP=(kaz,0)).% Ëerpadlo na vodu, schody na povalursur1(km(sub,Se1,_),_,na,ak,km(sub,Se2,_),_,SP) :-   ((Se1=[ins|_];Se1=[stroj|_]),SP=(mot,0));   (sema(Se1,[kon]),Se2=[lok|_],SP=(des,_)).% pl·öù do daûÔa,schody do pivnicersur1(km(sub,Se1,_),_,do,gen,km(sub,Se2,_),_,SP) :-   ifthenelse(Se2=[lok|_],(Se\==[ins|_],SP=(des,_)),SP=(mot,_)).% referent pre obchod, auto pre odvozrsur1(km(sub,Se,_),_,pre,ak,km(sub,_,_),_,SP) :-   (sema(Se,[ziv]),SP=(oku,_));   (sema(Se,[instr]),SP=(mot,_)).% hostinec bez prir·ûkyrsur1(km(sub,_,_),_,bez,gen,km(sub,_,_),_,(soc,_)).% spray proti hmyzursur1(km(sub,[ins|_],_),_,proti,dat,km(sub,_,_),_,(mot,_)).% domËek povyöe/poniûe vodop·dursur1(km(sub,_,_),_,Pr2,Pa,km(sub,_,_),_,SP) :-   code_world(W,main),prep2(Pa,SP,Pr2,_,_),code_world(_,W).% öpagety po sicÌlsky/vajce na m‰kkorsur1(km(sub,_,_),_,Pr,_,km(adv,_,_),_,(mds,_)) :-    Pr=po;Pr=na.rsur1(km(sub,mod,_),_,inf,km(sl,In,_),_,(exp,_)).% cesta spravodlivostirsur2(km(sub,_,_),ko(sl,_,_),0,gen,km(sub,_,_),ko(adj,_,_),(mds,_)).% vojak s rozhodnosùoursur2(km(sub,_,_),_,s,ins,km(sub,[atb|_],_),ko(adj,_,K4),(atr,_)).% öt·t v rozkladersur2(km(sub,Se,_),_,Pr,Pa,km(sub,[dej|_],_),ko(sl,I,K),XSP) :-   prior(I,Se,sub,SP),pair(SP,XSP),nominaliz(Pr,Pa,K).% rightval ûe+...    inf+...% vÙæa k moci% call lsur öpagety po sicÌlsky% !!! interfere otv·raË na konzervy = otv·raË konzerv% !!! shift root poh·r vody, bolesù hæadania, cesta spravodlivostirightsurf(KO1,Pr,Pa,N,SP1,SK,LL) :-   config(_,kon(_,a,_,_),_,_,_,_,_,_),   standard(SP1,SP),   ((fail,memb1([N,KO2|L],LL));colfar(nil,N,[N,KO2|L],LL,_)),   radix(KO1,KOR1,Sd1,Cat1),cat1(Sd1,Cat1,Se1),retroot(KOR1,LKOR1),   ((radix(KO2,KOR2,Sd3,Cat3),cat1(Sd3,Cat3,Se3),retroot(KOR2,LKOR2),     rsur1(km(Sd1,Se1,KO1),LKOR1,Pr,Pa,km(Sd3,Se3,KO2),LKOR2,SP),     SK=KO2);				% Ëlovek s klob˙kom    (radix(KM2,KO2,Sd2,Cat2),cat1(Sd2,Cat2,Se2),     rsur2(km(Sd1,Se1,KO1),LKOR1,Pr,Pa,km(Sd2,Se2,KM2),ko(Sd3,Se3,KO2),SP),     SK=KM2)				% Ëlovek s rozhodnosùou   ).replace([SP,_|L],SP,Val,[SP,Val|L]) :- !.replace([A,B|L1],SP,Val,[A,B|L2]) :- replace(L1,SP,Val,L2).remove(N,[[N|_]|LL],LL) :- !.remove(N,[A|LL1],[A|LL2]) :- remove(N,LL1,LL2).memb1(X,[X|_]) :- !.memb1(X,[_|L]) :- memb1(X,L).