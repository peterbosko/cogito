%   S A P F O   -   Sense  APprehending  Frame  Operator   -    (c) Emil Páleš%                                                                     1988%                     (part 1 : MORPHOLOGY, ANALYSIS):- segment(segmor).:- public an/6,gent/6,dekomp/4,append/3,member/2:far.:- extrn osozak/7,oskm/4,osopri/7,zvrat/3,opyt/3,opyt/2,ukaz/3,ukaz/5,        pronname/2,prefpron/2,neur/2,exc/6,byt/5,        conj1/5,conj2/6,prep1/5,prep2/6,prep3/4,vzorsub/3,vzorsl/8,alt/2,        koncad/6,koncsb/4,kcindik/3,kclpar/3,kcimper/3,subkonc/1,adjkonc/1,        parsam/2,parkon/2,parson/2,dlhaslab/1,kratkaslab/1,samohl/1,        konson/1,dlhasam/1,kratkasam/1,tvrda/1,makka/1,obojaka/1,diftong/1,        paint/2,casecat/2:far.an(Gc,Sc,Ne,Ko,X,S) :- exc(Gc,Sc,Ne,Ko,X,S).an(Gc,Sc,Ne,Ko,[Up|S],S) :-    uplow(Up,Low),an(Gc,Sc,Ne,Ko,[Low|S],S).an(subst(Rod,Ziv,Pad,Cis),sem(Sem,Poc),Neg,KM,[Tv|S],S):-    negativ(K0,Tv,Neg),    subkonc(Zk),dekomp(Zk,K0,K1,Knc),dorzling(Knc,K1,K2),    paint(hyp,['substantívum ',K2,'+',Knc]),    spell(K2,Z),reverse(Z,Z1),    ((Z1=Z2,Altyp=noalt);dealt(Altyp,Knc,Z1,Z2)),    reverse(Z2,Z3),    concat(Z3,K3),atom_string(Km,K3),    ifthen(Altyp\=noalt,paint(alt,['dealtern ',Altyp,' ',Km])),KM=(Km,N),    retrieveb(dic,KM,kmen(sub,cat(Sem,Prf,Suf,Vz,Poc),_,_)),    ifthenelse((Sem=[osoba|_];Sem=[zviera|_]),Ziv=ziv,Ziv=nez),    vzorsub(Vz,Rod,_),    koncsb(Vz,Cis,Pad,Knc),alt(Vz,Altyp),    koncsb(Vz,sg,nom,Kn),concat(Km,Kn,W).an(adjekt(Rod,Ziv,Pad,Cis,Stp),sem(Val,Sem),Neg,KM,[Tv|S],S):-    adjkonc(Zk),dekomp(Zk,Tv,K1,Knc),    paint(hyp,['adjektívum ',K1,'+',Knc]),    spell(K1,Z1),reverse(Z1,Z2),    dealtadj(Tyal,Z2,Z3),dekompar(Stp,Vstp,Z3,Z4),reverse(Z4,Z5),    concat(Z5,K2),atom_string(K3,K2),negativ(Km,K3,Neg),    retrieveb(dic,(Km,N),kmen(adj,cat(Val,Sem,Prf,Suf,Vskl,Vstp),_,_)),    ifthen((Sem=vzt;Sem=indprivl;Sem=drprivl),Stp=poz),    ifthenelse(Stp=poz,koncad(Vskl,Rod,Ziv,Pad,Cis,Knc),    koncad('cudzí',Rod,Ziv,Pad,Cis,Knc)),    KM=(Km,N).an(adverb(St),sem(Sem),Neg,KM,[Tv|S],S) :-    dekomp(['',e,o,y,ie],Tv,K1,Kn1),    paint(hyp,['adverbium ',K1,'+',Kn1]),negativ(Km,Tv,Neg),    ifthenelse(Kn1=='',(Km=K1,St=poz),     (spell(K1,Z1),reverse(Z1,Z2),      dealtadj(Tyal,Z2,Z3),dekompar(St,Vstp,Z3,Z4),      reverse(Z4,Z5),concat(Z5,K2),negativ(Km,K2,Neg))),    retrieveb(dic,(Km,N),kmen(adv,cat(Sem,Prf,Suf,Vzstp,Kn),_,_)),    KM=(Km,N),ifthen(St=poz,Kn1=Kn).an(indikat(Os,Cis,Cas),sem(Int,Rex,Vid),Neg,KM,[Tv|S],S) :-    dekomp([m,'š',me,te,''],Tv,K1,Ka),dekomp(['á',ia,a,ie,e,'í',i],    K1,K2,Kb),negativ(Pk,K2,Neg),    paint(hyp,['indikatív ',Pk,'+',Kb,'+',Ka]),    retrieveb(pzkmene,Pk,pzkmen(KM,_)),    retrieveb(dic,KM,kmen(sl,cat(Int,Prf,Suf,Rex,Vid,Vz,Pk),_,_)),    ifthen(deagent(Int),(Os=3,Cis=sg)),    vzorsl(Vz,_,_,_,_,Kb,_,_),ifthenelse(Vid=dok,Cas=fut,Cas=prez),    kcindik(Os,Cis,Ka).an(indikat(3,pl,Cas),sem(Int,Rex,Vid),Neg,KM,[Tv|S],S) :-    dekomp(['ú',u,ia],Tv,K1,Kn),negativ(Pk,K1,Neg),    paint(hyp,['indikatív ',Pk,'+',Kn]),    retrieveb(pzkmene,Pk,pzkmen(KM,_)),    retrieveb(dic,KM,kmen(sl,cat(Int,Prf,Suf,Rex,Vid,Vz,Pk),_,_)),    ifthen(deagent(Int),fail),    vzorsl(Vz,_,_,_,_,_,_,Kn),ifthenelse(Vid=dok,Cas=fut,Cas=prez).an(indikat(3,pl,Cas),sem(Int,Rex,Vid),Neg,KM,[Tv|S],S) :-    dekomp(['ú'],Tv,K1,'ú'),dekomp([aj,ej],K1,K2,Kn),negativ(Pk,K2,Neg),    paint(hyp,['indikatív ',Pk,'+',Kn,'+','ú']),    retrieveb(pzkmene,Pk,pzkmen(KM,_)),    retrieveb(dic,KM,kmen(sl,cat(Int,Prf,Suf,Rex,Vid,Vz,Pk),_,_)),    ifthen(deagent(Int),fail),    vzorsl(Vz,_,_,_,_,_,Kn,_),ifthenelse(Vid=dok,Cas=fut,Cas=prez).an(indikat(Os,Cis,fut),SemCat,Neg,KM,[Tv|S],S) :-    negativ(K1,Tv,Neg),deprefx([po],K1,po,K2),    paint(hyp,['indikatív futúrum ',po,'+',K2]),    an(indikat(Os,Cis,prez),SemCat,Neg,KM,[K2|S],S),    SemCat=sem(_,_,Int,_,_),(Int=1;Int=2).an(imper(Os,Cis),sem(Int,Rex,Vid),Neg,KM,[Tv|S],S) :-    dekomp(['',me,te],Tv,K1,Ka),dekomp([aj,ej,'',i],K1,K2,Kb),    paint(hyp,['imperatív ',K2,'+',Kb,'+',Ka]),    lingdorz(_,K2,K3),(K5=K3;(Kb='',endstring(K3,i),concat(K3,j,K4),    atom_string(K5,K4))),negativ(Pk,K5,Neg),    retrieveb(pzkmene,Pk,pzkmen(KM,_)),    retrieveb(dic,KM,kmen(sl,cat(Int,Prf,Suf,Rex,Vid,Vz,Pk),_,_)),    ifthen(deagent(Int),(Os=3,Cis=sg)),    vzorsl(Vz,_,_,_,_,_,Kb,_),    ifthen((Vz='klaòa';Vz='vies';Vz='vidie';Vz='hynú'),K2\=K3),    kcimper(Os,Cis,Ka).an(lpar(Rod,Cis),sem(Int,Rex,Vid),Neg,KM,[Tv|S],S) :-    dekomp([l,la,lo,li,ly],Tv,K1,Kn),dekomp([a,e,i,o,u,'ä',''],K1,K2,Kn1),    (K4=K2; ((Kn1=o;Kn1=''),concat(K2,n,K3),atom_string(K4,K3),(Vz='chudnú';     Vz='vládnu'));(Vz='vies',slalt('vies',K2,K3))),    negativ(Km,K4,Neg),KM=(Km,N),    paint(hyp,['l-príèastie ',Km,'+',Kn1,'+',Kn]),    retrieveb(dic,KM,kmen(sl,cat(Int,Prf,Suf,Rex,Vid,Vz,Pk),_,_)),    ifthen(deagent(Int),Rod=str),    (vzorsl(Vz,_,Kn1,_,_,_,_,_);(Kn1='',Kn\=l,(Vz='chudnú';Vz='vládnu';     Vz='nies';Vz='vies'))),kclpar(Rod,Cis,Kn).an(tpar(Rod,Ziv,Pad,Cis,Stp),sem(Int,Rex,Vid),Neg,KM,[Tv|S],S) :-    dekomp(['ý','ého','ému',om,'ým','á',ej,'ú',ou,'é','í','ých','ými',     y,eho,emu,ym,a,u,i,ych,ymi,ieho,iemu,'ími','ích','ím',ia,iu,ie],Tv,K1,Ka),    spell(K1,Z1),reverse(Z1,Z2),dekompar(Stp,'belasý',Z2,Z3),reverse(Z3,Z4),    concat(Z4,K2),atom_string(K3,K2),    dekomp([an,en,ut,et,at,'ät',t],K3,K4,Kb),negativ(K5,K4,Neg),    paint(hyp,['t-príèastie ',K5,'+',Kb,'+',Ka]),    ((KM=(K5,N),retrieveb(dic,KM,kmen(sl,cat(Int,Prf,Suf,Rex,Vid,Vz,Pk),_,_)));     (Kb=en,retrieveb(pzkmene,K5,pzkmen(KM,_)),      retrieveb(dic,KM,kmen(sl,cat(Int,Prf,Suf,Rex,Vid,Vz,K5),_,_)),      (Vz='nies';Vz='vies'))),    tranzit(Int),vzorsl(Vz,_,_,_,Kb,_,_,_),    ifthenelse(Stp\=poz,koncad('cudzí',Rod,Ziv,Pad,Cis,Ka),    ifthenelse(Vz\='klia',koncad('pekný',Rod,Ziv,Pad,Cis,Ka),     koncad('krásny',Rod,Ziv,Pad,Cis,Ka))).an(cpar(Rod,Ziv,Pad,Cis,prez),SemCat,Neg,KM,[Tv|S],S) :-    dekomp([i,eho,emu,eho,om,im,a,ej,u,ou,e,ich,imi],Tv,K1,Ka),    paint(hyp,['p-príèastie ',K1,'+',Ka]),    an(tranz,SemCat,Neg,KM,[K1|_],_),SemCat=sem(_,_,Vid),Vid\=dok,    koncad('rýdzi',Rod,Ziv,Pad,Cis,Ka),Cas=prez.an(cpar(Rod,Ziv,Pad,Cis,min),sem(Int,Rex,Vid),Neg,KM,[Tv|S],S) :-    dekomp(['í',ieho,iemu,om,'ím',ia,ej,iu,ou,ie,'ích','ími'],Tv,K1,Ka),    dekomp(['š'],K1,K2,'š'),dekomp([av,ev,uv,iv,'äv',v,''],K2,K3,Kb),    paint(hyp,['m-príèastie ',K3,'+',Kb,'+','š','+',Ka]),    negativ(Ik,K3,Neg),KM=(Ik,N),    retrieveb(dic,KM,kmen(sl,cat(Int,Prf,Suf,Rex,Vid,Vz,_),_,_)),Vid\=nedok,    vzorsl(Vz,_,_,Kb,_,_,_,_),koncad('cudzí',Rod,Ziv,Pad,Cis,Ka),Cas=min.an(tranz,sem(Int,Rex,Vid),Neg,KM,[Tv|S],S) :-    dekomp([c],Tv,K1,c),dekomp(['ajú','ejú','ú',ia],K1,K2,Kb),    paint(hyp,['prechodník ',K2,'+',Kb,'+',c]),    lingdorz(_,K2,K3),negativ(Pk,K3,Neg),    retrieveb(pzkmene,Pk,pzkmen(KM,_)),    retrieveb(dic,KM,kmen(sl,cat(Int,Prf,Suf,Rex,Vid,Vz,Pk),_,_)),    vzorsl(Vz,_,_,_,_,_,_,Kb).an(gerund(Pad,Cis),SemCat,Neg,KM,[Tv|S],S) :-    dekomp([ie,ia,iu,'í','ím',iam,iach,iami],Tv,K1,Ka),    paint(hyp,['gerundium ',K1,'+',Ka]),    (concat(K1,'ý',K2);(Vz='klia',concat(K1,y,K2))),    an(tpar(muz,ziv,nom,sg,poz),SemCat,Neg,KM,[K2|_],_),    koncsb('vysvedèenie',Cis,Pad,Ka).an(infin,sem(Int,Rex,Vid),Neg,KM,[Tv|S],S) :-    dekomp([''],Tv,K1,''),dekomp([a,ie,'ú','ä',u,i,''],K1,K2,Kb),    paint(hyp,['infinitív ',K2,'+',Kb,'+','']),    negativ(Ik,K2,Neg),KM=(Ik,N),    retrieveb(dic,KM,kmen(sl,cat(Int,Prf,Suf,Rex,Vid,Vz,_),_,_)).    an(prepoz(Pa,Vok),sem(_,_),ano,Ko,[Pr|S],S) :-    paint(hyp,['predložka ']),    prep1(Pa,Vok,Ko,[Pr|S],S);(prep3(Pa,Ko,[Pr|S],S),Vok=no).an(prepoz(Pa,no),sem(SP,No),ano,Ko,L,L1) :-    prep2(Pa,(SP,No),Ko,L,L1).an(aux(Os,Cs,prez,_),_,nie,byt,[nie,Tv|S],S) :-    paint(hyp,[aux]),byt(Os,Cs,prez,_,Tv),!.an(aux(Os,Cs,Cas,Ro),_,Ne,byt,[Tv|S],S) :-    negativ(K,Tv,Ne),byt(Os,Cs,Cas,Ro,K),    ifthen(Ne=nie,Cas\=prez).an(aux(Os,Cs,min,Ro),_,Ne,byvat,[Tv|S],S) :-    negativ(K,Tv,Ne),kclpar(Ro,Cs,Kn),concat('býva',Kn,K2),atom_string(Tv,K2).an(conj,sem(Tax,Dr1,Dr2,Poc,Cst),nil,Ko,S0,S1) :-    (conj1(Tax,Dr1,Dr2,S0,S1),Poc=1,Cst=1);    (conj2(Tax,Dr1,Dr2,Cst,S0,S1),Poc=2).an(partik,sem(Dr1,Dr2),_,KM,[Km|L],L) :-    paint(hyp,['èastica ']),KM=(Km,_),retrieveb(dic,KM,kmen(cast,cat(Dr1,Dr2),_,_)).an(interj,sem(Dr1,Dr2),_,KM,[Km|L],L) :-    KM=(Km,_),retrieveb(dic,KM,kmen(cit,cat(Dr1,Dr2),_,_)).an(_,_,_,_,_,_) :- paint(hyp,['zámeno']),fail.an(subpron(Os,Cs,Ro,Zi,Pa),sem(Dr,urc,Vzd,Dor,_),ano,ja,[X|S],S) :-    (osozak(X,Os,Cs,Ro,Zi,Pa,Dor),Dr=osozak);    (zvrat(X,Pa,Dor),Dr=zvrat);    (strbeg(['',tam,hen,hentam],X,Pr,Km1),     dekomp(['',to,'že','h¾a'],Km1,Km,Kn),     ukaz(Km,Ro,Zi,Pa,Cs),Dr=ukaz,     ifthenelse(Kn='',Dor=ned,Dor=dor),     case([Kn=to -> Vzd=bli,(Pr=tam;Pr=hen;Pr=hentam) -> Vzd=dal|true])).an(GCAT,sem(opyt,Urc,Vzd,Dor,SP),Ne,Ko,[X|S],S) :-     prefpron(Pr,Ur),strbeg([Pr],X,Pr,K1),     dekomp(['ko¾vek','že',''],K1,Km,Kn),     ((opyt(Km,Pa,Zi),GCAT=subpron(_,_,_,Zi,Pa),SP=subj,       ifthenelse(Zi=ziv,Ko=(osoba,0),Ko=(neosoba,0)));      (opyt(Km,Sp),GCAT=cirpron,pronname(Sp,Ko),SP=(Sp,_))),     ifthenelse(Kn='že',Dor=dor,Dor=ned),     ifthenelse(Kn='ko¾vek',Urc=lub,Urc=Ur).an(cirpron,sem(ukaz,urc,Vzd,ned,SP),ano,Ko,[X|S],S) :-     ukaz(X,Vzd,Sp),pronname(Sp,Ko),SP=(Sp,_).an(adjpron(Os,Cs,Ro,Zi,Pa),sem(Dr,_,Dor,_),ano,'môj',[X|S],S) :-    (osopri(X,Os,Cs,Ro,Zi,Pa,Dor),Dr=osopri);    (dekomp(['',ho,mu,om,'ím',a,ej,u,ou,e,i,ich,im,imi],X,Km,Kn),     koncad('môj',Ro,Zi,Pa,Cs,Kn),     ((oskm(Dl,Os,Cs,Km),ifthenelse((Kn='';Kn=ho;Kn=mu),Dl=dl,Dl=kr),Dr=osopri);      (Km=svoj,Dr=zvrat))).an(adjpron(_,Ci,Ro,Zi,Pa),sem(Dr,Urc,Vzd,Dor,(SP,_)),ano,'ký',[X|S],S) :-    prefpron(Pr,Ur),strbeg([Pr],X,Pr,K1),    strbeg([ak,ktor,'ko¾k','ko¾korak','è',tak,onak,on,'to¾k','to¾korak',            'nejak','vo¾ajak','všelijak'],      K1,Km,Kn),    case([(Km=ak;Km=ktor;Km=tak;Km=onak;Km=on) -> SP=det,           Km='è' -> SP=pos,           (Km='ko¾k';Km='to¾k') -> ((SP=ord,Ci=sg);(SP=kar,Ci=pl)),	   (Km='to¾korak';Km='ko¾korak') -> SP=spe,           (Km=nejak;Km='vo¾ajak') -> (Urc=neu,SP=det),           Km='všelijak' -> (Urc=roz,SP=det)]),    dekomp(['','že','ko¾vek',to],Kn,Kn1,Kn2),    ifthenelse((Km='è';SP=kar),Vz='cudzí',Vz='pekný'),    koncad(Vz,Ro,Zi,Pa,Ci,Kn1),    ifthenelse(Kn2='že',Dor=dor,Dor=ned),    ifthenelse(Kn2='ko¾vek',Urc=lub,Urc=Ur),    ifthen(Kn2=to,(Dr=ukaz,Vzd=bli)),    ifthen((Km=on;Km=onak),Vzd=dal),    ifthenelse((Km=tak;Km='to¾k';Km='to¾korak';Km=onak;Km=on),      (Dr=ukaz,Pr=''),Dr=opyt).an(_,_,_,_,_,_) :- paint(hyp,[]),fail.dekompar(poz,Vst,T,T) :- T\=['š'|_],!.dekompar(St,Vst,['š'|Z1],Z2) :- ((append(Z3,[j,a,n],Z1),St=sup);    (St=kom,Z3=Z1)),dkpar(Vst,Z3,Z2),paint(alt,['dekomparácia ',Vst]).dorzling(_,K,K).dorzling(K,K1,K2) :- (K=e;K=i),dekomp([d,t,n,l],K1,X,Y),!,parkon(Y,Y1),    concat(X,Y1,K3),atom_string(K2,K3),    paint(alt,['dorzling ',Y,' ',Y1]).lingdorz(_,K,K).lingdorz('',K1,K3) :- dekomp(['ï','','ò','¾'],K1,X,Y),parkon(Y1,Y),concat(X,Y1,K2),    atom_string(K3,K2),paint(alt,['lingdorz ',Y1,' ',Y]).slalt(Vz,Ik,Ik) :- Vz\=='chudnú',Vz\=='vládnu',Vz\=='vies',!.slalt(Vz,Ik,K) :- (Vz=='chudnú';Vz=='vládnu'),    spell(Ik,Z),reverse(Z,[n|L]),reverse(L,Z1),concat(Z1,K1),atom_string(K,K1).slalt('vies',Ik1,Ik) :- spell(Ik1,Z),reverse(Z,[X|Z1]),((X=d,Y=s);(X=t,Y=s);    (X=k,Y=c);(X=h,Y=c);(X=h,Y=z)),reverse([Y|Z1],Z2),concat(Z2,Ik2),    atom_string(Ik,Ik2).   dealt(Voklong,K,Z1,Z2) :- K='',nth_member(2,Z1,X),    ((parsam(Y,X),altfon(2,Y,Z1,Z2));     (konson(X),nth_member(3,Z1,Y),parsam(Z,Y),altfon(3,Z,Z1,Z2))),    (Voklong=voklong2;Voklong='voklong2á').dealt(Vokins,K,[H,H1,H2|T],[H,H3|T]) :- nonvar(H1),    K='',konson(H),(H1=ie;H1='á';H1=e;    H1=o;H1='ô'),konson(H2),(H2=H3;(H1=ie,parkon(H2,H3))),concat(vokins,H1,VK),    atom_string(Vokins,VK).dealt(Vokdel,K,[H|[H1|T]],[H|[X|[H1|T]]]) :- K\='',konson(H),konson(H1),    (X=e;X=o),(Vokdel=vokdel1;Vokdel=vokdel14).dealt(Vokcont,K,[H|[H1|T1]],[H|[H2|T1]]) :- K\='',konson(H),parsam(H1,H2),    (Vokcont=vokcont1;Vokcont=vokcont14).dealt(juno,_,[n,'ó'|T],[o|T]).dealt('slovák',i,[c|T],[k|T]).dealt('èernoch',i,[s|T],[ch|T]).dealt(paris,K,[d|T],[s|T]) :- K\='',T=[i|_].dealt(aias,K,[t,n|T],[s|T]) :- K\='',T=[a|_].dealt(ceres,_,[r|T],[s|T]) :- T=[e|_].dealt('anakreón',K,[t,n,o|Z],[n,'ó'|Z]) :- K\=''.dealt(noe,K,[m|Z],Z) :- K\='',Z=[e|_].dealt(pontifex,K,[k|[i|T]],[x|[e|T]]) :- K\=''.dealt('ma',K,[r|[e|T]],T) :- K\='',T=[t|_].dealt('dievèa',K,Z1,T) :- K\='',(Z1=[''|[a|T]];Z1=[t|[a|T]]).dealt(kura,_,[c|[n|[e|T]]],T).dealt('te¾a',_,[c|T],T).dealt(syzifos,'',[s,o|T],T).dealt(anaxagoras,'',[s,u|T],T).dealt(achilles,'',[s,e|T],T).dealt('génius','',[s,u|T],T).dealt(rytmus,'',[s,u|T],T).dealt('múzeum','',[m,u|T],T).dealt(turek,i,K1,K3) :- dealt('slovák',i,K1,K2),dealt(vokdel1,i,K2,K3).dealtadj(noalt,Z,Z).dealtadj(tolstoj,Z,[j|[o|Z]]).dealtadj(hoden,[n|T],[n|[e|T]]).dkpar('belasý',[j|[e|T]],T) :- !.dkpar(biely,[H1|[H2|T]],[H1|[H3|T]]) :- parsam(H2,H3).dkpar(suplet,[p,e,l],[r,b,o,d]) :- !.dkpar(suplet,[j,a,r,k],[n,k,e,p]) :- !.dkpar(suplet,[r,o,h],[l,z]) :- !.dkpar(suplet,['è','ä',v],[k,'¾',e,v]) :- !.dkpar(suplet,[n,e,m],[l,a,m]) :- !.dkpar('nový',T,T).dkpar('krátky',T,[k|T]).dkpar('ïaleký',T,[k|[e|T]]).dkpar('vysoký',[X|T],[k|[o|[Y|T]]]) :- (X='š',Y=s);(X='ž',Y=z).tranzit(_) :- !.tranzit(I) :- cdx,tranzit(I),cdm.deagent(_) :- !,fail.deagent(I) :- cdx,deagent(I),cdm.dekomp(Z,Tv,Km,Knc):- string_length(Tv,L2),member(Knc,Z),string_length(Knc,L1),    L3 is L2-L1,atom_string(Knc,Knc1),substring(Tv,L3,L1,Knc1),L4 is L2-L1,    substring(Tv,0,L4,Tv1),atom_string(Km,Tv1).deprefx(Z,Tv,Pr,Km) :- member(Pr,Z),atom_string(Pr,Pr1),    string_length(Pr1,L1),string_length(Tv,L),    L2 is L-L1,substring(Tv,0,L1,Pr1),substring(Tv,L1,L2,K),    atom_string(Km,K),paint(alt,['deprefixácia ']).negativ(K3,K1,nie) :- nonvar(K1),substring(K1,0,2,$ne$),string_length(K1,L),    L1 is L-2,substring(K1,2,L1,K2),atom_string(K3,K2),    paint(alt,['pozitivizácia']).negativ(K1,K3,nie) :- var(K3),concat(ne,K1,K2),atom_string(K3,K2).negativ(K1,K3,ano) :- (nonvar(K1),atom_string(K3,K1));(var(K1),atom_string(K1,K3)).delfon(1,[H|T],T) :- !.delfon(N,[H|T],[H|Z]) :- M is N-1,delfon(M,T,Z).insfon(1,X,Z,[X|Z]) :- !.insfon(N,X,[H|T],[H|Z]) :- M is N-1,insfon(M,X,T,Z).altfon(1,X,[H|T],[X|T]) :- !.altfon(N,X,[H|T],[H|Z]) :- M is N-1,altfon(M,X,T,Z).spell($$,[]) :- !.spell(X,[S|Z1]) :- string_length(X,L),nth_char(0,X,A1),name(A,[A1]),    ifthenelse(L>1,nth_char(1,X,B1),B1=65),name(B,[B1]),    ((  ((A=d,B='ž');(A=d,B=z);(A=c,B=h);(A=i,(B=a;B=e;B=u))),    !,N=2,concat(A,B,S1),atom_string(S,S1));(N=1,S=A)),    L1 is L-N,substring(X,N,L1,Y),spell(Y,Z1).append([],L,L) :- !.append([H|T],L,[H|T1]) :- append(T,L,T1),!.cutbeg([],L,L) :- !.cutbeg([X|A],B,[X|C]) :- cutbeg(A,B,C),!.cutend([],L,L) :- !.cutend([A|B],C,[A|D]) :- cutend(B,C,D),!.reverse([],[]) :- !.reverse([H|T],Z) :- reverse(T,T1),append(T1,[H],Z),!.member0(X,Z) :- ifthenelse(string(X),(atom_string(Y,X),member(Y,Z)),member(X,Z)).member(X,[]) :- fail.member(X,[H|T]) :- X=H;member(X,T).nth_member(1,[H|T],H) :- !.nth_member(N,[H|T],X) :- M is N-1,nth_member(M,T,X).endstring(S,Ee) :- atom_string(Ee,E),string_length(S,Ls),string_length(E,Le),    Lz is Ls-Le,substring(S,Lz,Le,E).strbeg(L,S,B,E) :- member(B,L),string_length(S,Ls),string_length(B,Lb),    substring(S,0,Lb,B1),atom_string(B,B1),L1 is Ls-Lb,    substring(S,Lb,L1,E1),atom_string(E,E1).    deriv(Z,W,X) :- member(X,Z),endstring(W,X),!.deriv(_,W,nonderiv).condense(Su,K1,K5) :- reverse(K1,K2),concat(K2,K3),concat(K3,Su,K4),    atom_string(K5,K4).tim :- time(time(_,M,S,St)),write(S),write(':'),    De is integer(St/10),write(De),write('   ').watch(G) :- time(T1),call(G),call(G),call(G),call(G),call(G),    call(G),call(G),call(G),call(G),call(G),    time(T2),clock(T1,T2,T3),    T is T3/10,write(T),nl.uplow(U,L) :- atom(U),name(U,[A|Z]),cod(A,B),name(L,[B|Z]).uplow(U,L) :- var(U),name(L,[B|Z]),cod(A,B),name(U,[A|Z]).cod(X,Y) :- integer(X),   ((X>64,X<91,!,Y is X+32);    (name(X1,[X]),parlet(X1,Y1),name(Y1,[Y]))).cod(X,Y) :- var(X),   ((Y>95,Y<123,!,X is Y-32);    (Y>64,Y<91,!,X=Y);    (name(Y1,[Y]),(parlet(X1,Y1);(parlet(Y1,_),X1=Y1)),name(X1,[X]))).cod(95,95).parlet(X,Y) :- member([X,Y],[['Á','á'],['Ä','ä'],['È','è'],['Ï','ï'],['É','é'],    ['Í','í'],['Å','å'],['¼','¾'],['Ò','ò'],['Ó','ó'],['ô','ô'],['À','à'],    ['Š','š'],['',''],['Ú','ú'],['Ý','ý'],['Ž','ž']]),!.